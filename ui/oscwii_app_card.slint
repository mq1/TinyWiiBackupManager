// SPDX-FileCopyrightText: 2025 Manuel Quarneti <mq1@ik.me>
// SPDX-License-Identifier: GPL-3.0-only

import { ElevatedCard, Vertical, Horizontal, IconButton, MaterialText, Dialog, HorizontalDivider, ScrollView, Icon } from "@material";
import { OscWiiApp } from "common.slint";

export component OscWiiAppCard inherits VerticalLayout {
    in property <OscWiiApp> app;
    padding: 4px;

    ElevatedCard {
        Vertical {
            spacing: 4px;

            MaterialText {
                horizontal-alignment: center;
                text: app.name;
                font-size: 18px;
            }

            HorizontalDivider { }

            Rectangle {
                vertical-stretch: 1;
            }

            Horizontal {
                padding: 4px;

                Icon {
                    source: @image-url("../mdi/account.svg");
                }

                MaterialText {
                    text: app.author;
                }
            }

            Horizontal {
                padding: 4px;

                Icon {
                    source: @image-url("../mdi/tag.svg");
                }

                MaterialText {
                    text: app.version;
                }
            }

            Horizontal {
                padding: 4px;

                Icon {
                    source: @image-url("../mdi/calendar.svg");
                }

                MaterialText {
                    text: app.release-date;
                }
            }

            Horizontal {
                padding: 4px;

                Icon {
                    source: @image-url("../mdi/scale.svg");
                }

                MaterialText {
                    text: app.size;
                }
            }

            Rectangle {
                vertical-stretch: 1;
            }

            Rectangle {
                height: 30px;
            }
        }
    }
}

export component OscWiiAppCardButtons inherits Horizontal {
    alignment: center;
    height: 34px;

    callback open_oscwii_info();
    callback download_oscwii();
    callback push_oscwii();

    IconButton {
        icon: @image-url("../mdi/information.svg");
        tooltip: "App Information";
        inline: true;
        clicked => {
            open_oscwii_info();
        }
    }

    IconButton {
        icon: @image-url("../mdi/download.svg");
        tooltip: "Download";
        inline: true;
        clicked => {
            download_oscwii();
        }
    }

    IconButton {
        icon: @image-url("../mdi/upload-network.svg");
        tooltip: "Wiiload";
        inline: true;
        clicked => {
            push_oscwii();
        }
    }
}
